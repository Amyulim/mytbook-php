(function(t){function e(e){for(var s,n,r=e[0],c=e[1],l=e[2],u=0,m=[];u<r.length;u++)n=r[u],i[n]&&m.push(i[n][0]),i[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(m.length)m.shift()();return a.push.apply(a,l||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],s=!0,n=1;n<o.length;n++){var c=o[n];0!==i[c]&&(s=!1)}s&&(a.splice(e--,1),t=r(r.s=o[0]))}return t}var s={},i={app:0},a=[];function n(t){return r.p+"js/"+({about:"about"}[t]||t)+"."+{about:"a807c8cf"}[t]+".js"}function r(e){if(s[e])return s[e].exports;var o=s[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.e=function(t){var e=[],o=i[t];if(0!==o)if(o)e.push(o[2]);else{var s=new Promise(function(e,s){o=i[t]=[e,s]});e.push(o[2]=s);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=n(t),a=function(e){c.onerror=c.onload=null,clearTimeout(l);var o=i[t];if(0!==o){if(o){var s=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,n=new Error("Loading chunk "+t+" failed.\n("+s+": "+a+")");n.type=s,n.request=a,o[1](n)}i[t]=void 0}};var l=setTimeout(function(){a({type:"timeout",target:c})},12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(e)},r.m=t,r.c=s,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(o,s,function(e){return t[e]}.bind(null,s));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;a.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";var s=o("64a9"),i=o.n(s);i.a},"06bb":function(t,e,o){},1:function(t,e){},1034:function(t,e,o){t.exports=o.p+"img/Money.9d1a8e85.svg"},"152d":function(t,e,o){t.exports=o.p+"img/accessibility.a3bff7dc.svg"},"2cba":function(t,e,o){},"3db3":function(t,e,o){},4793:function(t,e,o){},"4c2d":function(t,e,o){"use strict";var s=o("06bb"),i=o.n(s);i.a},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("097d");var s=o("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"html"},[s("div",{staticClass:"bg"}),s("div",{staticClass:"header mb-5",attrs:{id:"app"}},[s("div",{staticClass:"container "},[s("router-link",{attrs:{to:"/"}},[s("img",{staticClass:"logo",attrs:{src:o("9b19")}})]),s("nav",{staticClass:"nav-l"},[null!=t.store.user_id?s("router-link",{staticClass:"nav-link float-l",attrs:{to:"/booklist"}},[t._v(" Books")]):t._e(),t._v("  \n        "),null!=t.store.user_id?s("router-link",{staticClass:"nav-link floar-l",attrs:{to:"/myaccount"}},[t._v(" My Account")]):t._e(),t._v(" \n      ")],1),s("nav",{staticClass:"nav nav-masthead justify-content-center pt-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.store.search,expression:"store.search"}],staticClass:"form-control search-short",attrs:{type:"text",placeholder:"Search title.."},domProps:{value:t.store.search},on:{input:function(e){e.target.composing||t.$set(t.store,"search",e.target.value)}}}),2!=t.page?s("button",{staticClass:"search-icon",attrs:{to:"/booklist"},on:{click:t.searchbar_hide}},[s("i",{staticClass:"fa fa-search "})]):t._e(),null==t.store.user_id?s("router-link",{staticClass:"signIn btn-2 ml-3 mr-2",style:t.store.btcolor,attrs:{to:"/"},on:{click:t.signIn}},[t._v(" Sign in")]):t._e(),t._v(" \n        ")],1)],1)]),s("router-view")],1)},a=[],n={data:function(){return{bgcolor:this.store.btcolor,page:this.store.page}},methods:{signIn:function(){this.store.btcolor="background-color:blue"},searchbar_hide:function(){this.store.page=2,console.log(this.store.page),this.$router.push("booklist")},searchbar_show:function(){this.store.page}},beforeCreate:function(){this.page=this.store.page,console.log(this.store.page)}},r=n,c=(o("034f"),o("2877")),l=Object(c["a"])(r,i,a,!1,null,null,null),u=l.exports,d=o("8c4f"),m=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"body",attrs:{id:"home"}},[o("div",{staticClass:"container mx-auto"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-7 landing justify-conent-center"},[o("div",{staticClass:"justify-content-center m-auto"},[o("div",{staticClass:"pr-5"},[t._m(0),o("p",[t._v("Buy and Sell your textbooks for the best price. See every offer, and pick the best price.\n              ")]),o("router-link",{staticClass:"link",attrs:{to:"/booklist"}},[t._v(" Browse books "),o("i",{staticClass:"right arrow"})]),t._v("  \n            ")],1)])]),null==t.store.user_id?o("div",{staticClass:"col-md-5"},[o("signin")],1):t._e()]),t._m(1)])])},b=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("h1",[o("span",[t._v("Buy and Sell")]),o("br"),t._v(" Your Textbooks")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container homeContent"},[s("div",{staticClass:"col-md-12 content-title"},[s("h3",[t._v(" Why should you sell and buy books using Mytbook?")])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4 content-box shadow rounded"},[s("img",{staticClass:"content-logo",attrs:{src:o("152d"),alt:"Accessibility logo"}}),s("p",[s("span",{staticClass:"content-sub"},[t._v(" Accessibility")]),s("br"),t._v(" Looking for learning resources like books can be expensive for some students. It will be also such a waste if we just leave those used books untouched after using them for just a semester or two. Put some good use on those books by selling them to our website. "),s("br"),s("br"),t._v("Mytbook strives to be your one-stop shop for searching for books you needed for school. Search for the book you needed and set up a prefered meet up that suits your best availability.\n            ")])]),s("div",{staticClass:"col-md-4 content-box shadow rounded"},[s("img",{staticClass:"content-logo",attrs:{src:o("1034"),alt:"Money logo"}}),s("p",[s("span",{staticClass:"content-sub"},[t._v(" Good Price, Good Condition")]),s("br"),t._v("  Don't just settle for expensive books because you can't find a reliable source of cheap but still in a good condition book. In Mytbook, you will not only get good quality books, but you can also get them on an affordable and negotiable price whenever and wherever."),s("br"),s("br"),t._v(" Mytbook offers a wide variety of books available for students made by other BCIT students themselves!. Mytbook believes that  "),s("em",[t._v("Good education doesnt come from expensive books ")]),t._v(".\n            ")])]),s("div",{staticClass:"col-md-4 content-box shadow rounded"},[s("img",{staticClass:"content-logo",attrs:{src:o("99af"),alt:"community logo"}}),s("p",[s("span",{staticClass:"content-sub"},[t._v(" Create a community")]),s("br"),t._v(" Mytbook promotes the idea of creating a community. With one simple search, you’ll get connected to your fellow BCIT students who sell the book you are looking for an affordable book that is obviously a lot cheaper than their original price. In Mytbook we made it easier for customers to:"),s("br"),s("br"),t._v("1. Directly send a message to the book owner through the app."),s("br"),t._v(" 2. meet up with the book owner based on their posted preferred meeting date whether inside or outside the campus.\n            ")])])])])}],p=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"signin"}},[1===t.page?o("div",[o("div",{staticClass:"form-signin shadow rounded form"},[o("h2",{staticClass:"mb-3 font-weight-normal"},[t._v("Login to Continue ")]),o("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Email address")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.user_email,expression:"user_email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Email address",required:"",autofocus:""},domProps:{value:t.user_email},on:{input:function(e){e.target.composing||(t.user_email=e.target.value)}}}),o("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Password")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.user_pass,expression:"user_pass"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:t.user_pass},on:{input:function(e){e.target.composing||(t.user_pass=e.target.value)}}}),o("div",[o("button",{staticClass:"btn btn-lg btn-primary btn-block",on:{click:t.SignIn}},[t._v("GO")]),o("router-link",{staticClass:"signup",attrs:{to:"/signup"}},[t._v("Don't have an account. Sign  me up!")])],1),o("br")])]):t._e(),3===t.page?o("div",[o("gosignup")],1):t._e()])},_=[],h=(o("96cf"),o("3b8d")),v=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"body",attrs:{id:"Bookform"}},[o("div",{staticClass:"container d-flex w-100 h-100 p-3 mx-auto flex-column"},[o("main",{staticClass:"inner",attrs:{role:"main"}},[t._m(0),o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-8 order-md-1 box-center"},[o("h4",{staticClass:"mb-3"}),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-9 mb-3"},[o("label",{attrs:{for:"book-title"}},[t._v("Book title")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.book_title,expression:"book_title"}],staticClass:"form-control",attrs:{type:"text",name:"book_title",id:"firstName",placeholder:"",value:"",required:""},domProps:{value:t.book_title},on:{input:function(e){e.target.composing||(t.book_title=e.target.value)}}}),o("div",{staticClass:"invalid-feedback"},[t._v("\n                  Valid first name is required.\n                ")])]),o("div",{staticClass:"col-md-3 mb-3"},[o("label",{attrs:{for:"isbn"}},[t._v("ISBN")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.book_isbn,expression:"book_isbn"}],staticClass:"form-control",attrs:{type:"number",name:"book_isbn",id:"lastName",placeholder:"",min:"1",max:"13",required:""},domProps:{value:t.book_isbn},on:{input:function(e){e.target.composing||(t.book_isbn=e.target.value)}}}),o("div",{staticClass:"invalid-feedback"},[t._v("\n                  Valid last name is required.\n                ")])])]),o("div",{staticClass:" mb-3"},[o("label",{attrs:{for:"book_course"}},[t._v("Book Course")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.book_course,expression:"book_course"}],staticClass:"form-control",attrs:{type:"text",name:"book_course",id:"bookcourse",placeholder:"",value:"",required:""},domProps:{value:t.book_course},on:{input:function(e){e.target.composing||(t.book_course=e.target.value)}}}),o("div",{staticClass:"invalid-feedback"},[t._v("\n                Valid book course is required.\n              ")])]),o("div",{staticClass:"mb-3"},[t._m(1),o("br"),o("input",{attrs:{type:"file",accept:"image/*",placeholder:"image...."},on:{change:t.onFileChange}}),o("img",{attrs:{src:t.book_img}})]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-5 mb-3"},[o("label",{attrs:{for:"condition"}},[t._v("Condition of book")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.book_condition,expression:"book_condition"}],staticClass:"custom-select d-block w-100",attrs:{name:"book_condition",id:"country",placeholder:"Choose a condition",required:""},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.book_condition=e.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select your option")]),o("option",[t._v("1")]),o("option",[t._v("2")]),o("option",[t._v("3")]),o("option",[t._v("4")])]),o("div",{staticClass:"invalid-feedback"},[t._v("\n                  Please select a condition of the book.\n                ")])]),o("div",{staticClass:"col-md-6 mb-3"},[o("label",{attrs:{for:"date"}},[t._v("Preffered meeting date")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.book_mdate,expression:"book_mdate"}],staticClass:"form-control",attrs:{type:"date",name:"book_mdate",placeholder:"YYYY-MM-DD",required:""},domProps:{value:t.book_mdate},on:{input:function(e){e.target.composing||(t.book_mdate=e.target.value)}}}),o("div",{staticClass:"invalid-feedback"},[t._v("\n                  preferred date required.\n                ")])])]),o("div",{staticClass:"mb-3"},[o("label",{attrs:{for:"desc"}},[t._v("Description")]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.book_desc,expression:"book_desc"}],attrs:{name:"book_desc"},domProps:{value:t.book_desc},on:{input:function(e){e.target.composing||(t.book_desc=e.target.value)}}}),o("div",{staticClass:"invalid-feedback"},[t._v("\n                Description required.\n              ")])]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-3 mb-3"},[o("label",{attrs:{for:"price"}},[t._v("Price")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.book_price,expression:"book_price"}],staticClass:"form-control",attrs:{name:"book_price",type:"number",required:"",min:"0",value:"0",step:"any"},domProps:{value:t.book_price},on:{input:function(e){e.target.composing||(t.book_price=e.target.value)}}}),o("div",{staticClass:"invalid-feedback"},[t._v("\n                  Price required.\n                ")])])]),o("hr",{staticClass:"mb-4"}),o("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"submit"},on:{click:t.Bookform}},[t._v("Save")])])])])])])])},k=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"text-center"},[o("div",{staticClass:"container"},[o("h1",{staticClass:"jumbotron-heading"},[t._v("Book Form")]),o("p",{staticClass:"lead text-muted"},[t._v("Fill out the form sell the book!")])])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("label",{attrs:{for:"book_img"}},[t._v("Image URL "),o("span",{staticClass:"text-muted"},[t._v("(Optional)")])])}],f=(o("7f7f"),o("e848")),g=o.n(f),C={region:"ca-central-1",bucketName:Object({NODE_ENV:"production",BASE_URL:"/"}).AWS_BUCKET_NAME,accessKeyId:Object({NODE_ENV:"production",BASE_URL:"/"}).AWS_KEY,secretAccessKey:Object({NODE_ENV:"production",BASE_URL:"/"}).AWS_SECRET_KEY},y=new g.a(C),w={name:"Bookform",data:function(){return{user_id:this.store.user_id,book_title:"",book_isbn:"",book_course:"",book_price:"",book_condition:"",book_desc:"",book_img:"",book_mdate:"",book_status:"",book_file:"",result:""}},methods:{onFileChange:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&(this.createImage(e[0]),this.book_file=e[0],console.log(this.book_file),console.log(this.book_file.name))},createImage:function(t){new Image;var e=new FileReader,o=this;e.onload=function(t){o.book_img=t.target.result},e.readAsDataURL(t)},Bookform:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,o,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=new FormData,e.append("user_id",this.user_id),e.append("book_title",this.book_title),e.append("book_isbn",this.book_isbn),e.append("book_course",this.book_course),e.append("book_price",this.book_price),e.append("book_condition",this.book_condition),e.append("book_desc",this.book_desc),e.append("book_img",this.book_img),e.append("book_mdate",this.book_mdate),e.append("book_status",this.book_status),t.next=13,fetch("https://mytbook.herokuapp.com/insert_book.php",{method:"POST",body:e});case 13:return o=t.sent,t.next=16,o.json();case 16:return s=t.sent,console.log(s),this.result=s,console.log(this.result),console.log(this.book_file.name),i=new File([this.book_file],this.result.id+".jpg",{type:this.book_file.type}),console.log(this.book_file.name),t.next=25,y.uploadFile(i).then(function(t){return console.log(t)}).catch(function(t){return console.error(t)});case 25:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},x=w,I=(o("87b9"),Object(c["a"])(x,v,k,!1,null,null,null)),S=I.exports,j=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"form-signup form shadow rounded",attrs:{id:"signup"}},[o("router-link",{staticClass:"link m-0 p-0",attrs:{to:"/"},on:{click:t.back}},[o("i",{staticClass:"left arrow"}),t._v(" back")]),o("h1",{staticClass:"h3 mb-3 pt-3 font-weight-normal"},[t._v("Create Account ")]),o("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("Email address")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.user_email,expression:"user_email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Email address",required:"",autofocus:""},domProps:{value:t.user_email},on:{input:function(e){e.target.composing||(t.user_email=e.target.value)}}}),o("label",{staticClass:"label-only",attrs:{for:"inputPassword"}},[t._v("Student Number")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.student_id,expression:"student_id"}],staticClass:"form-control",attrs:{type:"text",name:"student_id",placeholder:"StudentID: A0000000",required:"",autofocus:""},domProps:{value:t.student_id},on:{input:function(e){e.target.composing||(t.student_id=e.target.value)}}}),o("label",{staticClass:"label-only",attrs:{for:"inputPassword"}},[t._v("Password")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.user_pass,expression:"user_pass"}],staticClass:"form-control",attrs:{type:"password",name:"user_pass",placeholder:"Password",required:""},domProps:{value:t.user_pass},on:{input:function(e){e.target.composing||(t.user_pass=e.target.value)}}}),o("label",{staticClass:"label-only",attrs:{for:"inputPassword"}},[t._v("Password")]),o("input",{staticClass:"form-control",attrs:{type:"password",placeholder:"Re-Type Password",required:""}}),o("router-link",{attrs:{to:"/booklist"}},[o("button",{staticClass:"btn btn-lg btn-primary btn-block submit",attrs:{type:"submit"},on:{click:t.Signup}},[t._v("Sign Up")])])],1)},E=[],P={name:"Signup",data:function(){return{user_email:"",student_id:"",user_pass:"",page:"/signin"}},methods:{Signup:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,o,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return alert(this.user_email),e=new FormData,e.append("user_email",this.user_email),e.append("student_id",this.student_id),e.append("user_pass",this.user_pass),t.next=7,fetch("https://mytbook.herokuapp.com/insert_user.php",{method:"POST",body:e});case 7:return o=t.sent,this.page="/booklist",t.next=11,o.json();case 11:s=t.sent,console.log(s);case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),back:function(){this.store.page=1,console.log(this.store.page)}}},B=P,N=(o("8d1b"),Object(c["a"])(B,j,E,!1,null,null,null)),O=N.exports,D={name:"signin",components:{gosignin:T,gosignup:O,gobookform:S},data:function(){return{page:1,user_email:"",user_pass:"",user_id:this.store.user_id}},methods:{GoBookForm:function(){this.store.page=2},GoSignUp:function(){this.page=3},SignIn:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,o,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=new FormData,e.append("user_email",this.user_email),e.append("user_pass",this.user_pass),console.log(e),console.log(this.user_pass),t.next=7,fetch("https://mytbook.herokuapp.com/select_user.php",{method:"POST",body:e});case 7:return o=t.sent,t.next=10,o.json();case 10:s=t.sent,console.log(s),s.status?(this.store.user_id=s.id,this.store.user_email=s.email,this.store.user_pass=s.pass,this.store.student_id=s.student_id,console.log(this.store.user_id),console.log(this.store.user_email),console.log(this.store.user_pass),console.log(this.store.student_id),this.$router.push("booklist")):alert("Wrong email or ps");case 13:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},$=D,M=Object(c["a"])($,p,_,!1,null,null,null),T=M.exports,R={name:"home",components:{Signin:T}},A=R,q=Object(c["a"])(A,m,b,!1,null,null,null),F=q.exports,L=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"body",attrs:{id:"booklist"}},[o("div",{staticClass:"container d-flex w-100 h-100 p-3 mx-auto flex-column"},[o("main",{staticClass:"inner",attrs:{role:"main"}},[o("section",{staticClass:"text-center"},[o("div",{},[o("h1",{staticClass:"jumbotron-heading"},[t._v("Book Lists")]),o("p",{staticClass:"lead"},[t._v("Find the book you want to buy!")]),o("div",{staticClass:"col-md-9 display-in"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control width-90",attrs:{type:"text",placeholder:"Search title.."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),t._m(0)])]),o("div",{staticClass:"album py-5 "},[o("div",{staticClass:"container"},[o("div",{staticClass:"row lists"},t._l(t.filteredList,function(e){return o("div",{staticClass:"col-md-4"},[o("div",{staticClass:"card mb-4 shadow-sm book-des"},[o("div",{staticClass:"book-img text-center"},[o("img",{staticClass:"card-img-top",attrs:{src:t.img+e.book_id+".jpg",text:"Thumbnail"}})]),o("div",{staticClass:"book-title text-center"},[t._v("\n                  "+t._s(e.book_title)),o("br"),o("span",{staticClass:"price"},[t._v("$"+t._s(e.book_price))])]),o("div",{staticClass:"card-body"},[o("ul",[o("li",[o("span",{staticClass:"list-title"},[t._v("ISBN")]),t._v(" : "+t._s(e.book_isbn)+" ")]),o("li",[o("span",{staticClass:"list-title"},[t._v("Course")]),t._v(" : "+t._s(e.book_course))]),o("li",[o("span",{staticClass:"list-title"},[t._v("Meeting Time")]),t._v(" : "+t._s(e.book_mdate))])]),o("div",{staticClass:"d-flex justify-content-between align-items-center"},[o("button",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{type:"button"},on:{click:function(o){t.See_detail(e)}}},[t._v("View")]),"null"===e.book_status?o("div"):null===e.book_status?o("div"):"None"===e.book_status?o("div"):o("div",[o("button",{staticClass:"btn btn-sm deal-status pull-right",attrs:{type:"button"}},[t._v(t._s(e.book_status))])])])])])])}),0)])]),1==t.detail?o("div",{staticClass:"modal-bg-solid"},[o("div",{staticClass:"bookview-body row2"},[o("bookdetail"),o("button",{staticClass:"back-button",attrs:{type:"button"},on:{click:t.Change_modal}},[o("i",{staticClass:"fa fa-angle-left",attrs:{"aria-hidden":"true"}})])],1)]):t._e()])])])},U=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-md-2 display-in"},[o("input",{staticClass:"submitButton btn-primary ",attrs:{type:"submit",value:"Search"}})])}],Y=(o("6762"),o("2fdb"),o("386d"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"row2"},[t.curItem.user_id===this.store.user_id?o("i",{staticClass:"edit-button pull-right fa fa-edit fa-2x",on:{click:t.GoBookUpdate}}):t._e(),o("button",{staticClass:"btn-primary btn-sm msg-btn",attrs:{type:"button"},on:{click:t.GoMessage}},[o("i",{staticClass:"fa fa-envelope fa-lg msg-icon"}),t._v("Send")]),o("div",{staticClass:"col-md-4 bookview-img"},[o("div",{staticClass:"detail-img-box"},[o("img",{staticClass:"detail-img mt-3",attrs:{src:t.img+t.curItem.book_id+".jpg",text:"Thumbnail"}}),"null"===t.curItem.book_status?o("div"):null===t.curItem.book_status?o("div"):"None"===t.curItem.book_status?o("div"):o("button",{staticClass:"btn btn-sm progress-btn pull-left deal-status"},[t._v(" "+t._s(t.curItem.book_status))])])]),o("div",{staticClass:"col-md-8 bookview-details pt-5"},[o("p",[o("span",{staticClass:"bookview-title"},[t._v("Title: ")]),t._v(t._s(t.curItem.book_title))]),o("hr"),o("p",[o("span",{staticClass:"bookview-title"},[t._v("ISBN: ")]),t._v(t._s(t.curItem.book_isbn))]),o("hr"),o("p",[o("span",{staticClass:"bookview-title"},[t._v("Course: ")]),t._v(t._s(t.curItem.book_course))]),o("hr"),o("p",[o("span",{staticClass:"bookview-title"},[t._v("price: ")]),t._v("$ "+t._s(t.curItem.book_price))]),o("hr"),o("p",[o("span",{staticClass:"bookview-title"},[t._v("condition: ")]),t._v(t._s(t.curItem.book_condition))]),o("hr"),o("p",[o("span",{staticClass:"bookview-title"},[t._v("description: ")]),t._v(t._s(t.curItem.book_desc))]),o("hr"),o("p",[o("span",{staticClass:"bookview-title"},[t._v("Meeting Time: ")]),t._v(t._s(t.curItem.book_mdate))]),o("hr")]),1==t.messenger?o("div",{staticClass:"modal-bg z-index-1000"},[o("div",{staticClass:"msg-box",attrs:{id:"messenger"}},[o("messenger"),o("button",{staticClass:"btn btn-sm btn-secondary close-button-msg",attrs:{type:"button"},on:{click:t.Change_modal}},[t._v("  X ")])],1)]):t._e()])}),V=[],G=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"position-relative",attrs:{id:"messenger"}},[o("div",{staticClass:"msg-body",on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.sendMsg(e):null}}},[o("div",{staticClass:"msg-title",attrs:{id:"msg"}},[o("h5",[t._v(t._s(this.book_title)+" ")]),o("h6",{staticClass:"price"},[t._v("$ "+t._s(this.book_price))])]),o("div",{staticClass:"pl-3 pr-3 pb-3 pt-2 "},[""==t.MessageArray?o("p",{staticClass:"text-muted"},[t._v("Start a conversation with the book owner")]):t._e(),o("div",{staticClass:"display-area"},t._l(t.MessageArray,function(e){return o("div",{staticClass:"display-content"},[t._v("\n          "+t._s(e.username)+": "+t._s(e.msg)+"\n        ")])}),0)]),o("div",{staticClass:"input-area row"},[o("div",{staticClass:"col-md-12 p-0"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],staticClass:"message-input-box",attrs:{type:"text",name:"input",placeholder:"Type your message.."},domProps:{value:t.msg},on:{input:function(e){e.target.composing||(t.msg=e.target.value)}}}),o("button",{staticClass:"btn send-msg-button ",on:{click:t.sendMsg}},[o("i",{staticClass:"fa fa-paper-plane send-icon",attrs:{"aria-hidden":"true"}})])])])])])},K=[],W=o("8055"),z=o.n(W),J={name:"messenger",data:function(){return{user_email:this.store.user_email,book_title:this.store.cur_book_title,book_price:this.store.cur_book_price,socket:z()("https://mytbookrealtime.herokuapp.com/"),msg:null,MessageArray:[]}},mounted:function(){var t=this;this.socket.on("user_connected",function(t){}),this.socket.on("new_msg",function(e){t.MessageArray.push(e)}),console.log(this.MEssageArray)},methods:{sendMsg:function(){if(null==this.msg)return!1;null==this.user_email?this.user_email="Guest Customer":this.user_email=this.store.user_email;var t={username:this.user_email,msg:this.msg};this.socket.emit("send_message",t),this.store.user_email=this.user_email,this.msg=""},CloseMessenger:function(){this.$router.push("booklist")}}},X=J,H=(o("955f"),Object(c["a"])(X,G,K,!1,null,null,null)),Q=H.exports,Z={name:"bookdetail",components:{messenger:Q},data:function(){return{result:"",book_title:"",messenger:!1,curItem:this.store.curItem,search:"",componentLoaded:!1,img:"https://s3.ca-central-1.amazonaws.com/mytbook/"}},methods:{GoMessage:function(){this.messenger=!0,this.store.user_id=this.store.user_id,this.store.user_email=this.store.user_email,this.store.cur_book_title=this.curItem.book_title,this.store.cur_book_id=this.curItem.book_id,this.store.cur_book_price=this.curItem.book_price},Change_modal:function(){this.messenger=!1},GoBookUpdate:function(){this.store.cur_book_id=this.curItem.book_id,this.store.cur_book_title=this.curItem.book_title,this.store.cur_book_isbn=this.curItem.book_isbn,this.store.cur_book_course=this.curItem.book_course,this.store.cur_book_price=this.curItem.book_price,this.store.cur_book_img=this.curItem.book_img,this.store.cur_book_mdate=this.curItem.book_mdate,this.store.cur_book_desc=this.curItem.book_desc,this.store.cur_book_condition=this.curItem.book_condition,this.store.cur_book_status=this.curItem.book_status,this.$router.push("bookupdate")},DeleteBook:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,o,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return alert("deleted!"),e=new FormData,e.append("user_id",this.store.user_id),e.append("book_id",this.curItem.book_id),console.log(this.user_id),console.log(this.curItem.book_id),t.next=8,fetch("https://mytbook.herokuapp.com/delete_book.php",{method:"POST",body:e});case 8:return o=t.sent,t.next=11,o.text();case 11:return s=t.sent,this.detail=!1,t.next=15,fetch("https://mytbook.herokuapp.com/select_book.php");case 15:return o=t.sent,t.next=18,o.json();case 18:s=t.sent,this.result=s;case 20:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},tt=Z,et=(o("80cd"),Object(c["a"])(tt,Y,V,!1,null,null,null)),ot=et.exports,st={name:"booklist",components:{bookdetail:ot},data:function(){return{result:"",book_title:"",detail:!1,curItem:"",search:this.store.search,componentLoaded:!1,bookdetail:ot,img:"https://s3.ca-central-1.amazonaws.com/mytbook/"}},methods:{See_detail:function(t){this.detail=!0,this.store.curItem=t},Change_modal:function(){this.detail=!1},GoBookUpdate:function(){this.store.cur_book_id=this.curItem.book_id,this.store.cur_book_title=this.curItem.book_title,this.store.cur_book_isbn=this.curItem.book_isbn,this.store.cur_book_course=this.curItem.book_course,this.store.cur_book_price=this.curItem.book_price,this.store.cur_book_img=this.curItem.book_img,this.store.cur_book_mdate=this.curItem.book_mdate,this.store.cur_book_desc=this.curItem.book_desc,this.store.cur_book_condition=this.curItem.book_condition,this.store.cur_book_status=this.curItem.book_status,this.$router.push("bookupdate")},DeleteBook:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,o,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return alert("deleted!"),e=new FormData,e.append("user_id",this.store.user_id),e.append("book_id",this.curItem.book_id),console.log(this.user_id),console.log(this.curItem.book_id),t.next=8,fetch("https://mytbook.herokuapp.com/delete_book.php",{method:"POST",body:e});case 8:return o=t.sent,t.next=11,o.text();case 11:return s=t.sent,this.detail=!1,t.next=15,fetch("https://mytbook.herokuapp.com/select_book.php");case 15:return o=t.sent,t.next=18,o.json();case 18:s=t.sent,this.result=s;case 20:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},beforeCreate:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://mytbook.herokuapp.com/select_book.php");case 2:return e=t.sent,t.next=5,e.json();case 5:o=t.sent,console.log(o),this.result=o,this.componentLoaded=!0,this.store.page=2,console.log(this.store.page);case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),computed:{filteredList:function(){var t=this;return this.componentLoaded?this.result.filter(function(e){return e.book_title.toLowerCase().includes(t.search.toLowerCase())}):null}}},it=st,at=Object(c["a"])(it,L,U,!1,null,null,null),nt=at.exports,rt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"body",attrs:{id:"Bookform"}},[o("div",{staticClass:"container d-flex w-100 h-100 p-3 flex-column"},[null===t.user_id?o("div",[t._v(" Sign In First!")]):o("div",[o("main",{staticClass:"inner",attrs:{role:"main"}},[t._m(0),o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-12"},[o("div",{staticClass:" myaccount-body card-body"},[o("p",[o("span",{staticClass:"bookview-title"},[t._v("Email Address: ")]),t._v(t._s(this.user_email))]),o("hr"),o("p",[o("span",{staticClass:"bookview-title"},[t._v("Student Number: ")]),t._v(t._s(this.student_id))]),o("hr"),o("router-link",{staticClass:"signIn btn-primary btn",attrs:{to:"/bookform"}},[t._v(" Sell the book")])],1),o("p",{staticClass:"myaccount-title"},[t._v("Books Listed:")]),o("div",{staticClass:"row lists"},t._l(t.result,function(e){return o("div",{staticClass:"col-md-4"},[o("div",{staticClass:"card mb-4 shadow-sm book-des"},[o("div",{staticClass:"book-img text-center"},[o("img",{staticClass:"card-img-top",attrs:{src:t.img+e.book_id+".jpg",text:"Thumbnail"}})]),o("div",{staticClass:"book-title text-center"},[t._v("\n                      "+t._s(e.book_title)),o("br"),o("span",{staticClass:"price"},[t._v("$"+t._s(e.book_price))])]),o("div",{staticClass:"card-body"},[o("ul",[o("li",[o("span",{staticClass:"list-title"},[t._v("ISBN")]),t._v(" : "+t._s(e.book_isbn)+" ")]),o("li",[o("span",{staticClass:"list-title"},[t._v("Course")]),t._v(" : "+t._s(e.book_course))]),o("li",[o("span",{staticClass:"list-title"},[t._v("Meeting Time")]),t._v(" : "+t._s(e.book_mdate))])]),o("div",{staticClass:"d-flex justify-content-between align-items-center"},[o("button",{staticClass:"btn btn-sm btn-outline-secondary",attrs:{type:"button"},on:{click:function(o){t.See_detail(e)}}},[t._v("View")]),"null"===e.book_status?o("div"):null==e.book_status?o("div"):"None"===e.book_status?o("div"):o("div",[o("button",{staticClass:"btn btn-sm deal-status pull-right",attrs:{type:"button"}},[t._v(t._s(e.book_status))])])])])])])}),0)])])]),1==t.detail?o("div",{staticClass:"modal-bg-solid"},[o("div",{staticClass:"bookview-body row2"},[o("bookdetail"),o("button",{staticClass:"back-button",attrs:{type:"button"},on:{click:t.Change_modal}},[o("i",{staticClass:"fa fa-angle-left",attrs:{"aria-hidden":"true"}})])],1)]):t._e()])])])])},ct=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"text-center"},[o("div",{staticClass:"container"},[o("h1",{staticClass:"jumbotron-heading"},[t._v("My Account")])])])}],lt={name:"booklist",components:{bookdetail:ot},data:function(){return{detail:!1,result:"",book_title:"",user_id:this.store.user_id,book_id:this.store.user_id,user_email:this.store.user_email,user_pass:this.store.user_pass,student_id:this.store.student_id,img:"https://s3.ca-central-1.amazonaws.com/mytbook/"}},methods:{See_detail:function(t){this.detail=!0,this.store.curItem=t},Change_modal:function(){this.detail=!1},GoBookUpdate:function(){this.store.cur_book_id=this.curItem.book_id,this.store.cur_book_title=this.curItem.book_title,this.store.cur_book_isbn=this.curItem.book_isbn,this.store.cur_book_course=this.curItem.book_course,this.store.cur_book_price=this.curItem.book_price,this.store.cur_book_img=this.curItem.book_img,this.store.cur_book_mdate=this.curItem.book_mdate,this.store.cur_book_desc=this.curItem.book_desc,this.store.cur_book_condition=this.curItem.book_condition,this.store.cur_book_status=this.curItem.book_status,this.$router.push("bookupdate")},DeleteConfirm:function(){alert("Do you really want to delete?")},DeleteBook:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,o,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=new FormData,e.append("user_id",this.user_id),e.append("book_id",this.curItem.book_id),console.log(this.user_id),console.log(this.curItem.book_id),t.next=7,fetch("https://mytbook.herokuapp.com/delete_book.php",{method:"POST",body:e});case 7:return o=t.sent,t.next=10,o.text();case 10:return s=t.sent,this.detail=!1,e=new FormData,e.append("user_id",this.store.user_id),t.next=16,fetch("https://mytbook.herokuapp.com/select_user_book.php",{method:"POST",body:e});case 16:return o=t.sent,t.next=19,o.json();case 19:s=t.sent,console.log(s),this.result=s;case 22:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},beforeCreate:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,o,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=new FormData,e.append("user_id",this.store.user_id),t.next=4,fetch("https://mytbook.herokuapp.com/select_user_book.php",{method:"POST",body:e});case 4:return o=t.sent,t.next=7,o.json();case 7:s=t.sent,console.log(s),this.result=s;case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},ut=lt,dt=(o("4c2d"),Object(c["a"])(ut,rt,ct,!1,null,null,null)),mt=dt.exports,bt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"body",attrs:{id:"Book_update_form"}},[o("div",{staticClass:"container d-flex w-100 h-100 p-3 mx-auto flex-column"},[o("main",{staticClass:"inner",attrs:{role:"main"}},[t._m(0),o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-8 order-md-1 box-center"},[o("h4",{staticClass:"mb-3"}),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-12 mb-3 input-file-wrapper"},[o("img",{staticClass:"thumb-img",attrs:{src:this.book_img}}),o("br"),t._m(1),o("input",{attrs:{type:"file",accept:"image/*"},on:{change:t.onFileChange}})])]),o("div",{staticClass:"col-md-12"},[o("button",{staticClass:"btn btn-sm btn-secondary trash-button pull-right",attrs:{type:"button"},on:{click:t.DeleteModal}},[o("i",{staticClass:"fa fa-trash fa-lg"})])]),o("hr",{staticClass:"mb-4"}),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-9 mb-3"},[o("label",{attrs:{for:"book-title"}},[t._v("Book title")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.book_title,expression:"book_title"}],staticClass:"form-control",attrs:{type:"text",name:"book_title",id:"firstName",placeholder:"",value:"",required:""},domProps:{value:t.book_title},on:{input:function(e){e.target.composing||(t.book_title=e.target.value)}}}),o("div",{staticClass:"invalid-feedback"},[t._v("\n                  Valid first name is required.\n                ")])]),o("div",{staticClass:"col-md-3 mb-3"},[o("label",{attrs:{for:"isbn"}},[t._v("ISBN")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.book_isbn,expression:"book_isbn"}],staticClass:"form-control",attrs:{type:"number",name:"book_isbn",id:"lastName",placeholder:"",min:"1",max:"13",required:""},domProps:{value:t.book_isbn},on:{input:function(e){e.target.composing||(t.book_isbn=e.target.value)}}}),o("div",{staticClass:"invalid-feedback"},[t._v("\n                  Valid last name is required.\n                ")])])]),o("div",{staticClass:" mb-3"},[o("label",{attrs:{for:"book_course"}},[t._v("Book Course")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.book_course,expression:"book_course"}],staticClass:"form-control",attrs:{type:"text",name:"book_course",id:"bookcourse",placeholder:"",value:"",required:""},domProps:{value:t.book_course},on:{input:function(e){e.target.composing||(t.book_course=e.target.value)}}}),o("div",{staticClass:"invalid-feedback"},[t._v("\n                Valid book course is required.\n              ")])]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-5 mb-3"},[o("label",{attrs:{for:"condition"}},[t._v("Condition of book")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.book_condition,expression:"book_condition"}],staticClass:"custom-select d-block w-100",attrs:{name:"book_condition",id:"country",required:""},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.book_condition=e.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select your option")]),o("option",[t._v("1")]),o("option",[t._v("2")]),o("option",[t._v("3")]),o("option",[t._v("4")])]),o("div",{staticClass:"invalid-feedback"},[t._v("\n                  Please select a condition of the book.\n                ")])]),o("div",{staticClass:"col-md-6 mb-3"},[o("label",{attrs:{for:"date"}},[t._v("Preffered meeting date")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.book_mdate,expression:"book_mdate"}],staticClass:"form-control",attrs:{type:"date",name:"book_mdate",placeholder:"YYYY-MM-DD",required:""},domProps:{value:t.book_mdate},on:{input:function(e){e.target.composing||(t.book_mdate=e.target.value)}}}),o("div",{staticClass:"invalid-feedback"},[t._v("\n                  preferred date required.\n                ")])])]),o("div",{staticClass:"mb-3"},[o("label",{attrs:{for:"desc"}},[t._v("Description")]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.book_desc,expression:"book_desc"}],attrs:{name:"book_desc"},domProps:{value:t.book_desc},on:{input:function(e){e.target.composing||(t.book_desc=e.target.value)}}},[t._v(t._s(this.book_desc))]),o("div",{staticClass:"invalid-feedback"},[t._v("\n                Description required.\n              ")])]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-3 mb-3"},[o("label",{attrs:{for:"price"}},[t._v("Price")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.book_price,expression:"book_price"}],staticClass:"form-control",attrs:{name:"book_price",type:"number",required:"",min:"0",value:"0",step:"any"},domProps:{value:t.book_price},on:{input:function(e){e.target.composing||(t.book_price=e.target.value)}}}),o("div",{staticClass:"invalid-feedback"},[t._v("\n                  Price required.\n                ")])])]),o("hr",{staticClass:"mb-4"}),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-5 mb-3"},[o("label",{attrs:{for:"condition"}},[t._v("Transaction status")]),o("select",{directives:[{name:"model",rawName:"v-model",value:t.book_status,expression:"book_status"}],staticClass:"custom-select d-block w-100",attrs:{required:""},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.book_status=e.target.multiple?o:o[0]}}},[o("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select your option")]),o("option",[t._v("None")]),o("option",[t._v("In Progress")]),o("option",[t._v("Sold")])]),o("div",{staticClass:"invalid-feedback"},[t._v("\n                  Please select a condition of the book.\n                ")])])]),o("hr",{staticClass:"mb-4"}),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-6"},[o("button",{staticClass:"btn  btn-danger btn-block delete-button",on:{click:t.CancelChanges}},[t._v("Cancel Changes")])]),o("div",{staticClass:"col-md-6"},[o("button",{staticClass:"btn btn-primary btn-block mb-5 ",attrs:{type:"submit"},on:{click:t.SaveChanges}},[t._v("Save Changes")])])])])])])])])])},pt=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"text-center"},[o("div",{staticClass:"container"},[o("h1",{staticClass:"jumbotron-heading"},[t._v("Edit Book")]),o("p",{staticClass:"lead text-muted"},[t._v("Edit the book information")])])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("button",{staticClass:"img-edit-btn"},[o("i",{staticClass:"fa fa-pencil-square-o",attrs:{"aria-hidden":"true"}})])}],_t=o("619c"),ht={region:"ca-central-1",bucketName:Object({NODE_ENV:"production",BASE_URL:"/"}).AWS_BUCKET_NAME,accessKeyId:Object({NODE_ENV:"production",BASE_URL:"/"}).AWS_KEY,secretAccessKey:Object({NODE_ENV:"production",BASE_URL:"/"}).AWS_SECRET_KEY},vt=new g.a(ht),kt={name:"Book_update_form",data:function(){return{user_id:this.store.user_id,book_id:this.store.cur_book_id,book_title:this.store.cur_book_title,book_isbn:this.store.cur_book_isbn,book_course:this.store.cur_book_course,book_price:this.store.cur_book_price,book_condition:this.store.cur_book_condition,book_desc:this.store.cur_book_desc,book_img:"https://s3.ca-central-1.amazonaws.com/mytbook/"+this.store.cur_book_id+".jpg",book_mdate:this.store.cur_book_mdate,book_status:this.store.cur_book_status,book_file:"",result:""}},methods:{onFileChange:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&(this.createImage(e[0]),this.book_file=e[0],console.log(this.book_file),console.log(this.book_file.name))},createImage:function(t){new Image;var e=new FileReader,o=this;e.onload=function(t){o.book_img=t.target.result},e.readAsDataURL(t)},SaveChanges:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,o,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("saved!"),e=new FormData,e.append("user_id",this.user_id),e.append("book_id",this.book_id),e.append("book_title",this.book_title),e.append("book_isbn",this.book_isbn),e.append("book_course",this.book_course),e.append("book_price",this.book_price),e.append("book_condition",this.book_condition),e.append("book_desc",this.book_desc),e.append("book_img",this.book_img),e.append("book_mdate",this.book_mdate),e.append("book_status",this.book_status),t.next=15,fetch("https://mytbook.herokuapp.com/update_book.php",{method:"POST",body:e});case 15:return o=t.sent,t.next=18,o.json();case 18:return t.sent,s=new File([this.book_file],this.book_id+".jpg",{type:this.book_file.type}),t.next=22,vt.uploadFile(s).then(function(t){return console.log(t)}).catch(function(t){return console.error(t)});case 22:return t.next=24,this.$swal({title:"Uploading",type:"success",timer:2e3,showCancelButton:!1,showConfirmButton:!1,confirmButtonColor:"#85be39",confirmButtonText:"Yes!"});case 24:this.$router.push("myaccount");case 25:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),CancelChanges:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$swal({title:"Changes Cancelled",type:"success",timer:2e3,showCancelButton:!1,showConfirmButton:!1,confirmButtonColor:"#85be39",confirmButtonText:"Yes!"});case 2:this.$router.push("myaccount");case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),DeleteModal:function(){var t=this;this.$swal({title:"Are you sure you want to delete "+this.book_title+" ?",text:"By deleting this book in Mytbook, other people will not be able to see this posting again and datas that were saved in our database will be permanently and can not be retrieved any more.",type:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(function(e){1==e.value?t.$swal.fire("Deleted!","Your file has been deleted.","success").then(function(){this.DeleteBook()}.bind(t)).catch(function(t){}):e.dismiss===t.$swal.DismissReason.cancel&&t.$swal.fire("Cancelled","You cancelled deleting the book","error")})},DeleteBook:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e,o,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=new FormData,e.append("user_id",this.store.user_id),e.append("book_id",this.store.cur_book_id),console.log(this.user_id),console.log(this.store.cur_book_id),t.next=7,fetch("https://mytbook.herokuapp.com/delete_book.php",{method:"POST",body:e});case 7:return o=t.sent,t.next=10,o.text();case 10:return s=t.sent,t.next=13,fetch("https://mytbook.herokuapp.com/select_book.php");case 13:return o=t.sent,t.next=16,o.json();case 16:s=t.sent,this.result=s,this.$router.push("myaccount");case 19:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},ft=kt,gt=(o("9f26"),Object(c["a"])(ft,bt,pt,!1,null,null,null)),Ct=gt.exports;s["a"].use(d["a"]);var yt=new d["a"]({mode:"history",base:"/",routes:[{path:"/",name:"homepage",component:F},{path:"/signin",name:"signin",component:T},{path:"/signup",name:"signup",component:O},{path:"/bookform",name:"bookform",component:S},{path:"/booklist",name:"booklist",component:nt},{path:"/bookdetail",name:"bookdetail",component:ot},{path:"/myaccount",name:"myaccount",component:mt},{path:"/bookupdate",name:"bookupdate",component:Ct},{path:"/messenger",name:"messenger",component:Q},{path:"/about",name:"about",component:function(){return o.e("about").then(o.bind(null,"f820"))}}]});s["a"].use(_t["a"]),s["a"].config.productionTip=!1,s["a"].prototype.store={viewPage:null,user_id:null,user_email:null,user_pass:null,student_id:null,cur_book_id:null,cur_book_title:null,cur_book_isbn:null,cur_book_course:null,cur_book_price:null,cur_book_img:null,cur_book_mdate:null,cur_book_desc:null,cur_book_condition:null,cur_book_status:null,page:null,btcolor:null,search:""},new s["a"]({router:yt,render:function(t){return t(u)}}).$mount("#app")},"64a9":function(t,e,o){},"7cf0":function(t,e,o){},"80cd":function(t,e,o){"use strict";var s=o("ad3a"),i=o.n(s);i.a},"87b9":function(t,e,o){"use strict";var s=o("4793"),i=o.n(s);i.a},"8d1b":function(t,e,o){"use strict";var s=o("7cf0"),i=o.n(s);i.a},"955f":function(t,e,o){"use strict";var s=o("3db3"),i=o.n(s);i.a},"99af":function(t,e,o){t.exports=o.p+"img/community.b2600a68.svg"},"9b19":function(t,e,o){t.exports=o.p+"img/logo.c3bc5033.svg"},"9f26":function(t,e,o){"use strict";var s=o("2cba"),i=o.n(s);i.a},ad3a:function(t,e,o){}});
//# sourceMappingURL=app.2066ece4.js.map